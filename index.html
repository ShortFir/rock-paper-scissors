<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="UTF-8">

    <title>Rock Paper Scissors</title>
</head>

<style>
    #playArea
    {
        width: 100vw;
        height: 100vh;
        display: flex;
        flex-flow: column;
        align-items: center;
        justify-content: center;
    }
    #buttonBox
    {
        height: 110px;
        width: 310px;
    }
    .playerButton
    {
        height: 100px;
        width: 100px;
    }
    #resultBox
    {
        display: flex;
        flex-flow: column;
        border: solid;
        border-width: 1px;
        height: 100px;
        width: 310px;
    }
</style>

<body>
    <div id="playArea">
        <div id="buttonBox">
            <button class="playerButton" id="rock">ROCK</button>
            <button class="playerButton" id="paper">PAPER</button>
            <button class="playerButton" id="scissors">SCISSORS</button>
        </div>
        <div id="resultBox">
            <div id="roundResult">

            </div>
            <div id="ongoingResults">

            </div>
        </div>
    </div>

    <script type="text/javascript">
        function computerPlay()
        {
            switch (Math.floor(Math.random() * 3))
            {
                case 0:
                    return "rock";
                case 1:
                    return "paper";
                case 2:
                    return "scissors";
            }
        }
        function playRound(playerSelection, computerSelection)
        {
            // Plays a round of the game.
            // needs to be case insenitive. rock, ROCK, Rock, etc.
            // Return string with the winner. "You Lose! Paper beats Rock"
            // possible outcomes...
            //  You Win!
            //  You Lose!
            //  Rock beats Scissors
            //  Paper beats Rock
            //  Scissors beat Paper
            //  Draw!

            //console.log("playRound input is " + playerSelection + " " + computerSelection);
            
            playerSelection = playerSelection.toLowerCase();

            switch (playerSelection)
            {
                case "rock":
                    switch (computerSelection)
                    {
                        case "rock":
                            return "Draw! Rock & Rock";
                        case "paper":
                            return "You Lose! Paper beats Rock";
                        case "scissors":
                            return "You Win! Rock beats Scissors";
                        default:
                            console.log("Error, stopped in first case 'rock'");
                    }
                    break;
                case "paper":
                    switch (computerSelection)
                    {
                        case "rock":
                            return "You Win! Paper beats Rock";
                        case "paper":
                            return "Draw! Paper & Paper";
                        case "scissors":
                            return "You Lose! Scissors beats Paper";
                        default:
                            console.log("Error, stopped in second case 'paper'");
                    }
                    break;
                case "scissors":
                    switch (computerSelection)
                    {
                        case "rock":
                            return "You Lose! Rock beats Scissors";
                        case "paper":
                            return "You Win! Scissors beats Paper";
                        case "scissors":
                            return "Draw! Scissors & Scissors";
                        default:
                            console.log("Error, stopped in third case 'scissors'");
                    }
                    break;
                default:
                    console.log("Error, no case match in playRound");
            }
        }
        // test function
        // const playerSelection = "rock";
        // const computerSelection = computerPlay();
        // console.log(playRound(playerSelection, computerSelection));

        function game(playerInput)
        {
            // call playRound(). play 5 times.
            // Keep score and report winner or loser.
            // console.log() each round, then overall winner.
            // prompt() for user input.
            // syntax: result = window.prompt(message, default);
            
            // let result;
            // let totalWins = 0;

            // for (let i = 1; i <= 5; i++)
            // {
            //     playerSelection = window.prompt("What is your selection: Rock, Paper or Scissors?", "rock");
            //     result = playRound(playerSelection, computerPlay());
            //     console.log("Round " + i);
            //     console.log(result);
            //     if (result.includes("Win!"))
            //     {
            //         totalWins++;
            //     }
            // }
            // if (totalWins >= 3)
            // {
            //     console.log("You're the winner! You won " + totalWins + " out of 5 rounds!");
            // } else
            // {
            //     console.log("You lost... with " + totalWins + " out of 5 rounds.")
            // }
            console.log(playRound(playerInput, computerPlay()));
        }

        const buttonClick = Array.from(document.querySelectorAll("button"));

        buttonClick.forEach((button) =>
        {
            button.addEventListener("click", () =>
            {
                game(button.id);
            })
        });
    </script>
</body>

</html>